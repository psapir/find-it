ALTER TABLE [dbo].[Results] ADD [ContactIndex_IdContactIndex] [uniqueidentifier]
ALTER TABLE [dbo].[Results] ADD CONSTRAINT [FK_dbo.Results_dbo.ContactIndexes_ContactIndex_IdContactIndex] FOREIGN KEY ([ContactIndex_IdContactIndex]) REFERENCES [dbo].[ContactIndexes] ([IdContactIndex])
CREATE INDEX [IX_ContactIndex_IdContactIndex] ON [dbo].[Results]([ContactIndex_IdContactIndex])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](255) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId])
)
BEGIN TRY
    EXEC sp_MS_marksystemobject 'dbo.__MigrationHistory'
END TRY
BEGIN CATCH
END CATCH
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309200153052_adding-contact-index', 0x1F8B0800000000000400D55ADD6EDB3614BE1FB0771074B50DA8E50428D00E4E8BCC4D8A604D52C46E6F03463AB68949942A5299F36CBDD823ED1576285932298AFAB39B763781C59F8F8787E7FFE4DFAFFFCCDE6EA3D0798494D3989DB92793A9EB00F3E380B2F5999B89D58B57EEDB373FFF34BB08A2ADF3B95C772AD7E14EC6CFDC8D10C9EF9EC7FD0D44844F22EAA7318F5762E2C7914782D83B9D4E5F7927530F10C2452CC799DD654CD008F20FFC9CC7CC87446424BC8E0308F96E1C671639AA734322E009F1E1CCBDA42CB81293774410D7390F2941121610AE06D2337D2DE971AB93F0AC0BA4493C2D9F12C8CF3B73EF8067A150D7E0AA3FE1491BC0A18F699C402A9EEE60B5DB7915ECF63A9EBEDBAB6FAF361B3B252167EEFB8C06AE739385217908F17B45420E066C0D649E71114790E26125CE42A4F8A4AE7349B7107C00B6169B0AEC9A6CCB9197537CD84F8CA204E0269166A01E5E7CB79FFD9188CDC043F1E781877EBAFB30F0CC93E9C1375D6EB2E881111A7E97D3E729100101EA019487CBDF4B54ABC1F2825A4757742CD80D79A46B22D030D46051FCFE8ED380BBCE1D84F902BEA149A1AE9342CCEFF76B2ED338BA8BC34AEFAAA9FB459CA5BE242C6E9E5F92740DA6AE59E9427323882FAE5800DB36DAF475067DEAB48D466D4D139D336F6F765A8DD1EEB6E3AC51B9798439AAB61E608F76184BD88A6FAD28BDF9A93DEE28A6EAE2319CB3FAFE03D81BD160285B5F1E6A7E3E105E508EAE7CA0C9B03DD139E7B14F735DD41CF0DE46E8145DB0C0E93018054FF62A8D4CC0BF3409A98F04201F8C6BDA414BED55402BDDD051A79389098C920329E0C549880FCF454A2813A69851E6D38484ED17AB6D1B148248FE57C7D467DE4102F8A84CB4F3A0DFF916A32309A8CEA9294D1793669E2224BD64A745CD8DA76E36E85D32F45BB70C357A010558B7045DC2646542A15639186590EE18918F5230B5472E5E80D0F8857E78AF9CB56B1BB7D401F69EDC40B0B99F3A84CA0768026A35B90A57EAD752C20C65952512A94B6BB79DA9EEA1B0D110FA6ECBA2C0ECE9ADFB15FD96FD39A0B3CECA05BBBEF4D69871DC68D41105AA2E1BBDF952BA9B4A2FF6D9A557A497651AEA59F2D0D935491274AB4A5EBA1B711645523A7FB1189E7F460586E7F38634B4A2B63A49C42959436D56F225804B9A722133E207229DED3C888C655D56A03C463706E6AB950A59AE97BF8B3D4A625E9A0CD34FECB65DE25522E966E4ADC0101873635E0A202149ADE9F23C0EB38875F93E3B929633AB60DA447FBC220F56818A91FE08795AA902E403FDF7EBF9A90AA4CF0CE0919A736A3C5227FAE3E979A70AA8CF988833AF2649468861886ACD5ED425BF975EB4F8887E8AD198C5E5085D9A61DD69578DCAEDEABA618DCBEC585A02A7A269133FCC33D57CC5D8C76AF3853D5EAC7DBBFDD9744FADBF5D5B00D4869AA7882A543ED07FBF9EEEA940FACCF38B80EEF79BDCD8BD9968DB3C566D693FEF2463991ABB5A621A934183C54083ED9209C9BF8ABC71945BB3CEA3B8E45602918E80E659DD15974585AAA030921FF538D11429235CAC2FA904BA0A1B6BE1E16C17AA75F7328CD8AD58E23AC88E471AC8B86DF1C40544858C2EBE84F390A20AED175C134657C0C532FE0B645F0643CBF15D91D7DEF45476453CCE83F0C76F8D648C7EC980CA32828C15D263B449D82349FD0D49CDA6C8F82E4889F94B44B6BF1ED0D968A4AD28901EDEB8381A78435F22C0DFE2587D89D160AD56A25BA20E2835FF20A5FB83F5A5A18C3F526CFEE755FA8339A954EC9B39F872B0DE3515E47BEACAE0827CAFA26A13E346543B1B6A45A38AB2A3EAEF1D19C050791B517BEF75EAC080F0F9AAEF3D3B3707766A6A76EE395B33CFD78AB1570EBE77EFA5B9ED60D625FBF41F5ADA0F456C8C46ED21C6972E8C99A5BE6CEB4DB4B5269AE0AD55F8B6C64567DBA2E9A48EEAF6F315F69B6E625633BAEBF90D6D80E3F5328ED9CDE94168B3B169A8CD7D93A684994DA2AE2AFF3F879682D3F51E42E6CC0C7C4D4BAB35576C1597F6A24651B9A41E838320184790F314631D14009CF681F3FCBF0C3E9330C32517D1030457EC36134926F0CA103D845AAD5C1A9DB6F3F3CE8B4EF3EC36C9FF29E718574032A90C856ED91F190D838AEECB8650C80221ADD97BC0F1E22DD1380A583F55483731EB09B4635F65849710252182F15BB6208F60A7AD9B873AC766EF2859A724E23B8CFD7EFC44F10BA2ED9BFF00600E9C98012A0000, '5.0.0.net40')
ALTER TABLE [dbo].[Results] DROP CONSTRAINT [FK_dbo.Results_dbo.ContactIndexes_ContactIndex_IdContactIndex]
ALTER TABLE [dbo].[Keywords] DROP CONSTRAINT [FK_dbo.Keywords_dbo.Results_IdKeyword]
DROP INDEX [IX_ContactIndex_IdContactIndex] ON [dbo].[Results]
DROP INDEX [IX_IdKeyword] ON [dbo].[Keywords]
EXECUTE sp_rename @objname = N'dbo.Results.ContactIndex_IdContactIndex', @newname = N'IdContactIndex', @objtype = N'COLUMN'
ALTER TABLE [dbo].[Keywords] ADD [IdResult] [uniqueidentifier] NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000'
ALTER TABLE [dbo].[Results] ADD CONSTRAINT [FK_dbo.Results_dbo.ContactIndexes_IdContactIndex] FOREIGN KEY ([IdContactIndex]) REFERENCES [dbo].[ContactIndexes] ([IdContactIndex]) ON DELETE CASCADE
ALTER TABLE [dbo].[Keywords] ADD CONSTRAINT [FK_dbo.Keywords_dbo.Results_IdResult] FOREIGN KEY ([IdResult]) REFERENCES [dbo].[Results] ([IdResult]) ON DELETE CASCADE
CREATE INDEX [IX_IdContactIndex] ON [dbo].[Results]([IdContactIndex])
CREATE INDEX [IX_IdResult] ON [dbo].[Keywords]([IdResult])
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309200218215_pending-migration', 0x1F8B0800000000000400DD5ADD6EDB3614BE1FB0771074B50DA8E50408D00E768BCC898B604D52D86E6F035A3AB68951942A5299FD6CBDD823ED15762459B248FDCB4E9AEC2688F9F39DC3F3C7E38FFEF7FB3FA30F5B97198F1008EAF1B17936189A0670DB73285F8FCD50AEDEBC353FBCFFF9A7D1B5E36E8DAFE9BAF3681DEEE4626C6EA4F47FB72C616FC02562E0523BF084B79203DB732DE278D6F970F8D63A1B5A8010266219C6681672495D883FE0C789C76DF06548D8ADE70013FB719C99C7A8C61D7141F8C486B139A5DCB991832B2289695C324A508539B055477D86EF227DCC4C12CABA469DE46EB1F32196373667204226F36B70D59FB0530670E873E0F910C8DD0C56FB9D37CE7EAF61A9BB2D7D7BB6B9B03352646C7E0CA9631A77216364C9F0F38A300105580D64120AE9B910A0B014672E0374A9694CE9169C4FC0D7729381DD926D3A723144C77EE114230037C92084BCF0E473BDECCF446E3A0AC57F8F14FA65F6A9A3CCB3E1D1275D6C4277C909653F44FA240022C1C13C805478F4FF02D3AA73BC60D6D1153D11D88D83E92C892D6FB803DB6E717C471EE99A48AC31FA6915C819B07891D8503FC9FE4192350FEABA69E0B9338F65A9AC4C3FCCBD30B0A3F37AD56B1624588396C623EB50296AEB87A24CAF2AA21EA77B2DE9EF090DCA8DF6740BF18B6323FC131189E6785B748CCAD62E4213FEED054E3FEFA49B7B3826DB7A844FF6180BD8CAE72F3FFDEEA9CAFC4EC14A327B7FCC8774C921A9D599423E6BD35D52F95208CFA6B1268A820F35297DCD1DA345B149FC742859E818FC4B7D466D54646CFE56305A3D707AAC1CB09AF52AFC99A947F63DBF0206128C4B5BC6CDDD84089B3845E7A1AD1C7504930102400B128632850C08E5B2983994DBD427ACF910DAD61E4531523313A8CF5C810FB889CB663F9D46934CA066C826BB8DAC5C00D6C7A5961D559153952A87A0C92A52FB70AC48B0C610FFF13158AE793BA79777F69D02AFDC1BC78A3F79B425B5310E72CA21D8AB108F521085588B16CF412A055398C6A1C26A4151882B15209F5C508653DB1CE9687B9397E1545DE339ABE8C7D2FACCDCCA9A76547758BB0B233B48CEA405DFB7BB227250BA71F53453CFDEC22EFA2D5D34495DA56A53AB72DA1F9C5963898AEAD46CCF9AD3A7FD42961307A6C24AA88A94D2B02A388DD12DF17DECD1721CC77EC4982704C7E4CDBC3B97E12618962D4A288D4CDB4C92F402B2066D368A0A07A6341032625796246AE0268E5B58D6540152316A21287A2ACDC3747DF47FB22747F20CCAE3E560B7291EC58D6A6B742A28B8B7B831A695082341654B3BF158E8F2A68A5B8DA4F02F793065A23D5EC2A9E4819291F608314591078807DAEF57B98E3C903AD3C14679FE42B1517EA23D9ECA61E401D599F6887A7FA746457DEF1755002D3E0BF77521010AAD8E9A4FADB24D2BEC7D93AEEEE26A917AF5DB9FC6E055A8317591878A07DAEF5769883C903AF3624220BB1DFB3ABF941469E5F7CA9DD52ECFBA2FD5DB154D591D96C287E4D194892EF9DFF53E785287177A0F7D49263DEB41B45E63B4BFF79B1F590A8D40B2C434D0448FD4899A80F94E48709380997F631346F1BC8705B784D31508B9F0FE82E8C108FB94FECF35EFACE179F45C6309E1B097FF661372FA2D041A7D158B2E9EE014EF37FC9104F68604C5D79AFECF3329E62F2ED9FE7AC4934BA96E09C778FC8BCAC9C04B1E4C1CFC5F9EEAC1A43758394DDF31885EF9A3C4D129937BA0288F988BCE0153F6FED0D2C9AFEDFDE168F397BC459C2C718F2CAF4FC3F19705F1F392EF3AE7D3EB6DA1177BDAF0E5E01938FBFF1D3FDFDA854F14425A3DE8F62270C433D0B373EEAF85652F52716DE8F61AB63DE9E0F1065B7AE8E5A45A5611A075547C23115F26A8816EAE20EBEBB8FA322955B4F03332F965962A3222CD047E094FFDB248FAD66A96979912CEE04958F8E2375ECCD4DC8F0FB14C08BA3E40443F45E4602B399AADB9E12B2F2D169A46E912FD7B0248822D23B90CB05541F7E3B40D42C4BFD1F84A58884BAEDD253837FC3E947E28F1C8E02E99420E4725A74E7EFCD4A0EA3CBAF7E31F519CE208A8268DBADE7BFE47489993E93D2DE9B42A20A25AF611703CF125964609EB5D8674E7F196407BF365257801AECF104CDCF33979846ADD9A6DA85A6C7445C93A20AED8631CF6E3470C3FC7DDBEFF0F8CC895CC3E2B0000, '5.0.0.net40')
ALTER TABLE [dbo].[Keywords] DROP CONSTRAINT [FK_dbo.Keywords_dbo.Results_IdResult]
DROP INDEX [IX_IdResult] ON [dbo].[Keywords]
ALTER TABLE [dbo].[Keywords] ADD [Result_IdResult] [uniqueidentifier]
ALTER TABLE [dbo].[Keywords] ADD CONSTRAINT [FK_dbo.Keywords_dbo.Results_Result_IdResult] FOREIGN KEY ([Result_IdResult]) REFERENCES [dbo].[Results] ([IdResult])
CREATE INDEX [IX_Result_IdResult] ON [dbo].[Keywords]([Result_IdResult])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Keywords')
AND col_name(parent_object_id, parent_column_id) = 'IdResult';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Keywords] DROP CONSTRAINT ' + @var0)
ALTER TABLE [dbo].[Keywords] DROP COLUMN [IdResult]
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309200233538_pending-migration-2', 0x1F8B0800000000000400DD5ADD6EDB3614BE1FB0771074B50DA8E51428D00E768BCC490A634D52C46E6F03463AB68949942A5299F36CBBD823ED15762459327FF443D96ED6EE26B0489E8F87E78FE7F0E49FBFFE9EBCDB46A1F30829A7319BBA67A3B1EB00F3E380B2F5D4CDC4EAC56BF7DDDB1F7F985C06D1D6F95CAD7B99AF434AC6A7EE4688E457CFE3FE0622C24711F5D398C72B31F2E3C82341ECBD1C8F5F7B67630F10C2452CC799DC654CD0088A0FFC9CC5CC87446424BC8E0308F96E1C671605AA734322E009F161EA5E5116CCC5E88208E23AE72125C8C202C2D5407EC66F727EDC7A27DCEB1279124FCBA7048AFDA6EE1DF02C14F21A5CF53B3C290338F4318D1348C5D31DAC7694F36047EB782AB5A793D7C40665CEC8D47D9FD1C0756EB230240F217EAF48C8C180D5406619177104296E56E12C448A2A759D2BBA85E003B0B5D8D460D7645B8DBC1AA3623F318A16804422CD40DEBCFCEEDEFB23119B819BE2CF2337FD74F761E09E67E3A34FBADC64D1032334FC4F769FA5400404E807506D9EFF5EA25B0DB617F43ABAA227029B07E8CE82F862CE02D80EB3E31BF248D744608CD14FAB40DE41582CE21B9A94DE3F2ABDE65E5D7795C6D15D1CD6AEAC4CDF2FE22CF5F3F3C6ED6B96245D83E9C6AD7CA2C7FD19A701EFE271BFC6E0AF9A6AE3AD9E6FE26BE2ED2358675C538474507453C53C3CC61D6E211A5494D30C73BD57C77ADE07C24BCEF1161BE82DD62ADA29FA30ED54C40728A6263D42273B8C256CC5D70E8B6DF23CE73CF669E17FCA5D7EDF61FA972C702C8245799EBD3BE301F02F4D42EA232353F717433CDDC095274BC0AA77A8F067AE6E01B7EC024210E09CFBA248CE6684FB2430D584B20AD411341A4801254842DC938B9450264C0BA3CCA70909FB0FA1911E103C7236EB0DF5990B48008998E8D7D36938A937D404D927B7892719A0955DD677428FE99817449F3D8E47A3B37E93342E1609B78E099D86DE7AE6D2430B515306E9EEDCC52805F3C0F9E20508453C7855EEFD5C3BAD71321540563134E1745E653ADAFEEA3670DA82AE2415FD585AB622ADEC486A7423B50B5BF54124911AF66E17A824285DB87AC051CF6E2F97BD985B65D2EC30562E73982C0C0F9160F6FC5A4BA0BAB96ABFD8D7BC5E59F456C5B1D7521D4FAE4992E0AD2A55CBBB11675196CAB3178BE155715462783E6F288E6B6EEB9D449C923568B3B965047045532EF23AFD81E4F7FC2C888C657D51A0DA460D06A6AE2A5FACD6E7BF4B1AE9B960D454CFCB72BBC2A344F9F5929F0A0C3331098B070A1292B4B5889FC56116B1EE47812E24A59297C194097BBCB23A9781CA117B84A2D895018A017B7AB56A9681D4990132922B614546F2843D9E5A0DCB80EA8C3DA29E69A856D19D85E41140B34F234F311CC048FC547FB2F2362DB81FEA745D979785EB75937F1D81B7A116C5A60C550CD8D3AB85A30CA4CE7C3326D071C9DA29BFB18CB5D27B2B65BBCAEB0C4CD5764B62D685A554B0329A32F1FC6A52B389A6CB514A9DBAEE406999A5E0F3844893524B7E654A65C01DB9C36CBF2A8B2AB6821ACE636BA17A229BEA640FE34E408BDA6FCEF3578DFA09648004F494D2B41323B3D497D4565A67985A2639D96575FDCD1823CD2B97B80E8AE09106798AB778E202A2D2F8165FC25948D12FF60BAE09A32BE06219FF01796309B3D0C3DB3A6FBCF1CBBCADE3711E84DF7E6F2763F44B06347F60C8D38AF4147D1EF648527F4352B3AB73781BA7C2FC2922DB9F8F68CD34F256BEF91DDF79391978436325C0DFE2548D9583C19A9FCD071AD177DE2438DA65A48641B3C5BC1A6C304DFD004B257F6FFD80A3C5DFD01B3899E31A37673FCFCFD5516832E5E77DEAD7DFB30EEA641CD42FE829009FA143F07FED061CFFFAAFB9F780E7FEE3BA47961A692F02AC2DA0BD023537B4283E4E6E03CDDD11F3F9D4A64DD2D12529F372BC971E62547619FC5A1EBF3B5B28BD0D94A68D7ADA042D4D96AE1E4BD32EAD8FF0CFD781699294F98AD5DF6C68E8517C9BCD150B469BE34DC383C357E99D98952CFAAAF4CF87182F385DEF21F21A9D81AF7869BD66CE56711535348EAA257AFE0F82602A48CE53CC3DD00070DA07CE8BFF85F84CC20C975C460F10CCD96D26924CE091217A089527FD3CE874ED5F3488549E27B749F1AF47A73802B249F36CF696FD96D130A8F9BE6AC8665B20F268F61E70BCD425064701EBA71AE9266696403BF1D541780951122218BF650BF208EDBCF5CB5095D8E48292754A22BEC3D8D3E3279A5F106DDFFE0B848654C03E2B0000, '5.0.0.net40')
ALTER TABLE [dbo].[Results] ADD [ResultType] [nvarchar](200)
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309200339489_updated-result-type', 0x1F8B0800000000000400DD5ADD6EDB3614BE1FB0771074B50DA8E50428D00E768BCC490A634D52C46E6F0B463AB68949942A5299F36CBBD823ED157628593229EA87B2DDACDD4D60F1E73B8787E79727FFFCF5F7E4ED360A9D4748398DD9D43D1B8D5D07981F0794ADA76E26562F5EB96FDFFCF8C3E42A88B6CEA772DDB95C873B199FBA1B21925F3D8FFB1B88081F45D44F631EAFC4C88F238F04B1773E1EBFF2CEC61E20848B588E33B9CF98A011E41FF8398B990F89C84878130710F2DD38CE2C7254E79644C013E2C3D4BDA62C988BD12511C4752E424A90850584AB81FC8C5F4B7EDC8A12D2BA429EC4D3F229819CDED4BD079E85425D83AB7E87276D00873EA47102A978BA87D56EE73CD8ED753C7DB757DF5E6D36764A46A6EEBB8C06AE739B85217908F17B45420E066C0D64967111479022B112672152BC52D7B9A65B08DE035B8B4D057643B6E5C8CB315EEC4746510370934833508917DFDDB40BF625D181A4CF8F26FD8188CD40A2F8F348A21FEFDF0FA479363EFAA4CB4D163D3042C3FF84FA2C0522204013ACEE58FE5EA2450F56553478BAA227029B07E84904F1C59C05B01D6642B7E491AE8940F7563FAD06790F61BE886F6852389E51A1F19FF575D7691CDDC7616510DAF4E7459CA5BE3C6FDCBE6649D235981EA4954F34F63FE334E05D3CEED718FC95536DBC55F34D7C4DBCBDF3EC74A99A900E72ACBA9887BBD7C335A40615C93DC34CEFE5B196F79EF082730CA003ADC5FA8A76177DD8ED949B0FB8986AEB1177B2C358C2567C6DB7D826CF0BCE639FE6F6A745C4CF1DAA7FC502C7C25914E7D99B331E00FFD224A43E3232757F31C4D30D5C5AB202AC5B870E7FE6D635E08E5D4208029C0B5FE479E18C709F04E635A1AC027D049506524009921069729112CA84A96194F9342161FF216A5B0F701E92CD8A607DE61212C04D4CF4DFD36938A908D604D927B789A728A0955E5631A14775CC00D1A78FE3D1E8AC5F258DC0A2E0563EA153D15BCF5C58682E6ACA20DD9D3B1FA5601E582E5E80D0C483A1726FE7B5D31A27D301D42B86269CCE505647DB876E03A7CDE92A52A91FAB96AD282B3B929ABA92DAB9ADEA208A480D7DB773540A545DB87587A39FDD5E2E7B31B7CAA4D960AC4CE630591816A2C0ECF9B5964019B92ABBD897DB5E516F9775B9D752984F6E48926054550AF5DD88B328AAF4D98BC5F0823C2A303C9F37D4E515B7152511A7640DB559A919015CD3940BF944F040649C9F0591B1ACCF0B9464746760DE55698BE57AF9BBD8A3BC54942EC38C0DBB6DD77894488617792A30D4C4DC98BF8D9090A4ADEF07B338CC22D6FD1ED185A43D22A860DA843D9EFA30A0C2A9E3F66845ADAFE21423F60879E9AC02E403F6FBF51A5C05D26706485CADAB3589AB13F6787A6DAD02EA33F688F5BC45D7B1EE9C46FA939AB61B598F614E461AA95BA795EDD642C5A126DC150A2D0CB97BFBD711781B6A5EBAAA50F980FD7EBD0C5581F4996F46053A42B6DDE53716C556F7DEBAB3FDCAAB7C4EBFED9634AF0B4BAB8755346DE2F9AF49CF4D9A42AD92887545546599A5E0657AD518998C6CCD94CA8088BBC36C0FBC794D5C420DE7B1B5EC3D914E75B2877E27A0792539E7F28DA47A501920817A826AEA8991A7D697545A5AE5ABB5BC74B2CB11FBBB4A46D2582C711D14C1230D64C2B878E202A242F9165FC25948D12EF60B6E08A32BE06219FF012CEF66BC3ABC3FF5DA1B9FCBFE94C779107EFB4DAA8CD12F1950F95C21D38AF4140D2BF648527F4352B33D756C3FAA11F97C38B2DA6E2A317F8AC8F6E7235A488DBC156F93C777884E06DED0000AF0B7385503E860B0E6E7FD81EAF99D37338E3646A5B1D1AC312F072B4C53DFC2F292BFB7BEC5D1E26FE8619CCC708D98DCCFF373753E9A54F9795B12F577B7833A2E07F5357A4ACB67E864FC5FBB16C777296AE63DA02D715C97CBF246DACB0B6B0D68AF6D4D821665CDC975A0B98B633EF3DAB4733ABA3945C68F71E921C6CB2E9C5FCB237D67ABA7B7D1D344A8A79DD1D20CEAEA053551696D163C5FA7A84952E6FB587F53A4A197F26D36812C186DF6370D4F195FA5C763D6C868ABCAFF67A2BFE074BD8790D53F035FB3D26ACD9CADE2D26BD4382A97D4F37F10045341729162EE810A80D33E709EFFCFC6271266B8E42A7A8060CEEE329164028F0CD143A8B51EA4D3E9A29F37B2749E277749FE2F52A73802B24965367BC77ECB6818547C5F3764B32D10D29BBD031C2FEE129DA380F55385741B334BA09DF82A27BC842809118CDFB105798476DEFA65A84B6C7249C93A2511DF61ECF7E327AA5F106DDFFC0BB62CDAAD612C0000, '5.0.0.net40')
ALTER TABLE [dbo].[Results] ADD [Name] [nvarchar](500)
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309200421033_adding-name-field', 0x1F8B0800000000000400DD5ADD6EDB3614BE1FB0771074B50DA8E50428D00E768BCC490A634D52C46E6F0B463AB68949942A5299F36CBBD823ED157628593229EA87B2DDACDD8D61F3E73B8787E78FE7F89FBFFE9EBCDD46A1F30829A7319BBA67A3B1EB00F3E380B2F5D4CDC4EAC52BF7ED9B1F7F985C05D1D6F954AE3B97EB7027E353772344F2ABE7717F0311E1A388FA69CCE39518F971E49120F6CEC7E357DED9D803847011CB7126F719133482FC07FE9CC5CC87446424BC890308F96E1C671639AA734B22E009F161EA5E5316CCC5E89208E23A172125C8C202C2D5407EC6AF253F6E4509695D214FE269F994404E6FEADE03CF42A1AEC155BFC3933680431FD23881543CDDC36AB7731EECF63A9EBEDBAB6FAF361B3B252353F75D4603D7B9CDC2903C84F87B45420E066C0D64967111479022B112672152BC52D7B9A65B08DE035B8B4D057643B6E5C8CB315EEC4746510370934833508917BFBB69CBCF67275AC84C121D48FAFC68D21F88D80C248A5F8F24FAF1FEFD409A67E3A34FBADC64D1032334FC4FA8CF52200202B4FBEA8EE5F7258D60B07DA097A12B7A22B07980EE4B105FCC5900DB61767B4B1EE99A08F4A9F5D36A90F710E68BF8862685B71B151AFF595F779DC6D17D1C5606A14D7F5EC459EACBF3C6ED6B96245D83E9B65AF9440FF3679C06BC8BC7FD1A83BF72AA8DB76ABE89AF89B7F7D89D7E5C13D241DE5C17F3709F7EB886D4A022B96798E9BD3CD6F2DE135E708E517BA0B5585FD1EEA20FBB9D72F30117536D3DE24E76184BD88AAFED16DBE479C179ECD3DCFEB488F8B943F5AF58E058388BE23C7B73C603E0274D42EA232353F717433CDDC0A5252BC0BA75E8F0676E5D03EED8258420C0B9F0459E8CCE08F749605E13CA2AD0475069200594200991261729A14C981A46994F1312F61FA2B6F500E721D9AC08D6672E2101DCC444FF3D9D86938A604D907D729B788A025AE96515137A54C70C107DFA381E8DCEFA55D2082C0A6EE5133A15BDF5CC8585E6A2A60CD2DDB9F3510AE681E5E205084D3C182AF7765E3BAD71321D40BD6268C2E90C6575B47DE83670DA9CAE2295FAB16AD98AB2B223A9A92BA99DDBAA0EA288D4D0773B47A540D5855B7738FAD9EDE5B21773AB4C9A0DC6CA640E938561210ACC9E5F6B099491ABB28BFD1BDF2B1EF96531C06BA9064C6E4892605455AA03BB1167519406662F16C3AB005181E1F9BCA11850715B5112714AD6509B959A11C0354DB99075890722E3FC2C888C657D5EA024A33B03F3AE4A5B2CD7CBEFC51EA53C52BA0C3336ECB65DE35122195EE4A9C0501373635E902121495B8B16B338CC22D65D04E942D22A172A9836618F57542354A062C41E412D2DA838EAB83D5A512D50718A117B84FCF1AD02E403F6FBF557BC0AA4CF0CB833F565AEDD993A618FA7BFCE55407DC61EB19EF9E85ADA9D15498F54B317236F320CD2484475FBB6B2FE5AB039D4097405530B57D0BDFDEB08BC0D357FFCAA50F980FD7EFD21AB02E933DF8C0A74047DBBCB6F7C565BDD7BEBCEF62BAF3242FDB65B12C52E2CED45ADA26913CF7F4D7A76D314AC9554AE2B262BCB2C052F13B4C6C864E47BA65406C4EC1D667BE8CE5FD525D4701E5B1FCE27D2A94EF6D0EF04347F8BCEB9ACB25425990112A8A7B8A69E18996E7D49A5A555C65BCB6C27BB2CB3BF1966A49DC512D741113CD240A69C8B272E202A946FF1259C8514ED62BFE08630BA022E96F11FC0F27EC8ABC3DB6AAFBDF1B96CAB799C07E1B7DF5BCB18FD920195050F9956A4A7E8B3B14792FA1B929A0DAEC3DB68A7C234BB648DC8E7C391D5265889F95344B63F1FD1D86AE4ADA8981EDFB73A1978435B2AC0EFE2546DA983C19A9B0E0355FE3B6FB11C6DE04ABBA559635E0E5698A66E8AE5257F6FDD94A3C5DFD0593999E11A71BE9FE7E7EAC734A9F2F3364AEAD5C083FA4007755B7A9EABCFD05FF9BFF6528EEF9DD4CC7B40B3E4B8DE9BE58DB43F59AC35A0FDBD6C12B4782A9D5C079A7B4B66F1D9A6C9D4D1632A5E1118971E62BCECC2F9B5B40E3A1B50BDEDA726423D4D969616555787AA894A6B0BE3F9FA574D92326B6EFDAD9A860ECFB7D99AB260B4D9DF349447BE4AE7C97C77A3AD2A7F55457FC1E97A0F212B0A0C7CCD4AAB3573B68A4BAF51E3A85C52CFFF41104C05C9458AB9072A004EFBC079FE4F924F24CC70C955F400C19CDD6522C9041E19A287506B8848A7D3453F6FAFE93C4FEE92FC8F5BA73802B24965367BC77ECB6818547C5F3764B32D10D29BBD031C2FEE129DA380F55385741B334BA09DF82A27BC842809118CDFB105798476DEFA65A84B6C7249C93A2511DF61ECF7E34F54BF20DABEF91776E507216C2D0000, '5.0.0.net40')
ALTER TABLE [dbo].[Keywords] DROP CONSTRAINT [FK_dbo.Keywords_dbo.Results_Result_IdResult]
DROP INDEX [IX_Result_IdResult] ON [dbo].[Keywords]
ALTER TABLE [dbo].[Keywords] ADD [IdResult] [uniqueidentifier] NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000'
ALTER TABLE [dbo].[Keywords] ADD CONSTRAINT [FK_dbo.Keywords_dbo.Results_IdResult] FOREIGN KEY ([IdResult]) REFERENCES [dbo].[Results] ([IdResult]) ON DELETE CASCADE
CREATE INDEX [IX_IdResult] ON [dbo].[Keywords]([IdResult])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Keywords')
AND col_name(parent_object_id, parent_column_id) = 'Result_IdResult';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Keywords] DROP CONSTRAINT ' + @var0)
ALTER TABLE [dbo].[Keywords] DROP COLUMN [Result_IdResult]
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309200537402_changing-keyword-logic', 0x1F8B0800000000000400DD5ACD6EDB4610BE17E83B103CB50562CA060C248594C095EDC0686C079692ABB12647D2A2CB25C35DBAF2B3E5D047EA2B74488AD4EEF29F9215BB1741DC9F6F66E76F8733FCF7FB3FE30F6B9F598F10091AF0897D7C34B22DE06EE051BE9CD8B15CBC796B7F78FFF34FE30BCF5F5B5FF37527C93ADCC9C5C45E4919FEEE38C25D814FC4914FDD2810C1421EB981EF102F704E46A3B7CEF1C80184B011CBB2C6773197D487F4011FA7017721943161D781074C6CC6716696A25A37C40711121726F625E5DE953C3A2792D8D619A3045998015BF4E467F42EE1C72E2821AD0BE4493ECD9F4248E94DEC3B103193EA1A5CF5273C690338F4390A4288E4D31D2C363BAFBCCD5ECBD1773BE6F662736967C2C8C4FE1853CFB66E62C6C803C3E70561024AB006C8341632F021426239CE4C46A852DBBAA46BF03E015FCA5501764DD6F9C8E90815FB8553B400DC24A31854E2D97333EDE4F7E044339925447B923ED999F46722573D89E2DF1D897EB9FBD493E6F168E793CE57B1FFC009653F84FA340222C143BF2F749CFC9F531F7AFB074619BAA07B02BBF2307C49E2CA2BEEC1BA9FDFDE9047BA241263AA795A0DF20E58BA48AC689845BBA3CCE2EFF5759751E0DF05AC70086DFA7E16C4919B9C37A85F3327D1128CB03576B691B1315E6ACC0C8A9AFA71FAC7CEE19A30A0FC644F3F133FDDD5C23F1191718EB7634FABECAC2214E1DF41E40DD34EBE7980628AAD3BE8642F57E3869139ACE5016258AD7FE727A9F0EC0D87F7F992AD53EB33257F36A6FBB8F29910814B534E3406EF1B5CFA827B5687609389781BB250A6F84B43465D646462FF56125A33707E2C0558F77A1DFED8362DFB969F030309D6992BD364764A844BBCB2F250569E3E82CE0011A00409439A4246847259F61CCA5D1A12D67E0863EB80A098B059103467CE2104DCC465BB9EF6C34941D010649BDCC68E6280CD766978479DE5D4B9CAD6688A88D4DD1C6B1CACD5C47FBC0D5673DE4DE9D56F32BD0CAF5A1BBB92DFBBB565B1313572CA21DAB0908E5210255B4B16CF406A0153D8D636C21A4651B22B1D40752EA8C2694C8E4CB48DC8AB70EAAE71452AE6B18C3C5359D9908E9A0AEB7661140751445AD27DB72B428132856BBA997EF60E72316FE9B2489A22559758A570BF556683246AA253BB3C1B4E9FE70B854F6C2B334E569AC94B384E4D0D677C4DC210D32BA5A6B319B166594167FA66D6BF76E367188E2B2A4A3805B7052519446409C66C62151E5CD248C8A49AF44092846FEAF9A5656D112027A30782B2A6723FCCD727FFB33D4A51EBA8DA5EB672BBC4A3F8496C4D4E0525F59637A66534C248549B4F4F0316FBBC2DE2D62369F526154C9BE88E97D59054A06CA43B825A105271D4F1EE68598D47C5C946BA23A4251315201DE8BE5FAFBDA840FA4C0F9DA9F5144D67EA44773CBDA6A202EA33DD11CD7C53B7D2E65C34894886BF94F287924396522FDDBF3B79BF71D10C0D024D17698750D0BCFD79045E879A965254A874A0FB7EBD2CA202E9332FC6048ADB7AA8F22B8B349DF45EBBB35EE54536A86BBB26496CC6DAD77DA2156954306DE2C00A2FE542E692827A911319B9CF789387B437B94A8949B6C4B650508FD44B9292D99390E0670633FBC6A68CE279B70BAE09A70B10721EFC053CED73BC1DDE2E7BE78C4E9276992384C75E7ECF2CE6F45B0C3479354C2E9E681FFD33FE48227745A272E36A787B6C5F98E5EE5725F2497F64B5B99563FEE293F5AF3B34AC2A79CB8AABBBF7A3F6065ED16EF2F0BFDC57BB6930587593A3A7C9BFF296CECE0EAEB477AA2DE6B4B7C154756F3A2AF9B5756F7616FFDE03764557676024789E0E4995111FB6756156CC06756606D59E5B5E650ED0F1F8DF75373AABF0994CC88807FDFA293B34D10EDEB1782D3D8A7221B34BB3A2A15791BD6FE00DF610A096B36059573E6E6A64B4B631AA08B514EB6B5A1D4D9D8E2A2A7545F503F641AA2455AEDFB4B73F2AAAFC2FABC5D199CDEA305351E178961E46F9FD1C3D55F95415C384A0CB2D44F2E12A0757F3D162CD155F0479B03038CA9798EF092009A68CE42CC23408D58FD32E08917E9CF295B018975CF80FE05DF1DB5886B1C42383FFC0B4D27A12729AE8A78D1A9DE7F16D987E82B28F23209B34C97A6FF91F31655EC1F76545D65B0391C4B28F80E3992E31344A583E15483701EF08B4115F1182E7E0870CC1C42D9F9147A8E7AD5D86BAC4C6E7942C23E28B0DC6763F3EA2F979FEFAFD7FFB11C34C6C2D0000, '5.0.0.net40')
